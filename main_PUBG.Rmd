---
title: "PUBG Strategies"
output: pdf_document
---

## Install libraries
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(reshape2)
library(tidyr)
library(dplyr)
library(scales)
library("plyr")
source('util.R')
```

## Load data
```{r}
#setwd("/Users/alex/Desktop/AMS204-FinalProject")
PUBG_full <- read.csv("data/train_V2.csv")
#PUBG_test <- read.csv("data/test_V2.csv")
```

## Seperating dataset by match type's covariants and response
```{r}
# Solo dataset
solo <- preprocess(PUBG_full, 'solo')
solo_org_small_cov <- solo$first
solo_org_small_resp <- solo$second
solo_org_small_full <- data.frame(solo_org_small_cov, solo_org_small_resp)
colnames(solo_org_small_full)[20] <- 'winPlacePerc'

# Solo-Fpp dataset
solo_fpp <- preprocess(PUBG_full, 'solo-fpp')
solo_fpp_small_cov <- solo_fpp$first
solo_fpp_small_resp <- solo_fpp$second
solo_fpp_org_small_full <- data.frame(solo_fpp_small_cov, solo_fpp_small_resp)
colnames(solo_fpp_org_small_full)[20] <- 'winPlacePerc'
```

```{r}
### Solo

# Splitting dataset into clusters
solo_org_small_full <- append_clustering_feature(solo_org_small_cov, solo_org_small_full)
solo_org_small <- split_by_the_four_clusters(solo_org_small_full)
cluster_1_solo_org_small <- data.frame(solo_org_small$first) 
cluster_2_solo_org_small <- data.frame(solo_org_small$second) 
cluster_3_solo_org_small <- data.frame(solo_org_small$third) 
cluster_4_solo_org_small <- data.frame(solo_org_small$fourth)

# Splitting the clusters into covariants and response
omit_response <- !names(solo_org_small_full) %in% c("winPlacePerc") 

cluster_1_solo_org_small_cov <- cluster_1_solo_org_small[, omit_response]
cluster_1_solo_org_small_resp <- cluster_1_solo_org_small$winPlacePerc
cluster_2_solo_org_small_cov <- cluster_2_solo_org_small[, omit_response]
cluster_2_solo_org_small_resp <- cluster_2_solo_org_small$winPlacePerc
cluster_3_solo_org_small_cov <- cluster_3_solo_org_small[, omit_response]
cluster_3_solo_org_small_resp <- cluster_3_solo_org_small$winPlacePerc
cluster_4_solo_org_small_cov <- cluster_4_solo_org_small[, omit_response]
cluster_4_solo_org_small_resp <- cluster_4_solo_org_small$winPlacePerc
```

```{r}
# Solo Fpp
```

```{r}
# Duo
```

```{r}
# Duo Fpp
```

## Logistic Regression (run model and check classification percent correct)
```{r}
solo_org_logit <- logistic(solo_org_small_cov, solo_org_small_resp)
summary(solo_org_logit)

solo_fpp_logit <- logistic(solo_fpp_small_cov, solo_fpp_small_resp)
summary(solo_fpp_logit)
```